const a8_0x1a56fd=a8_0x590e;(function(_0x136b4f,_0x14034e){const _0x4f81ba=a8_0x590e,_0x29316b=_0x136b4f();while(!![]){try{const _0x1164ed=-parseInt(_0x4f81ba(0x140,'Yqio'))/0x1*(-parseInt(_0x4f81ba(0x16a,')#[y'))/0x2)+-parseInt(_0x4f81ba(0x149,'RZvG'))/0x3*(parseInt(_0x4f81ba(0x162,'%)G['))/0x4)+-parseInt(_0x4f81ba(0x183,'ZusY'))/0x5+parseInt(_0x4f81ba(0x15c,'$oN%'))/0x6+parseInt(_0x4f81ba(0x146,'bd!D'))/0x7*(parseInt(_0x4f81ba(0x151,'ZusY'))/0x8)+-parseInt(_0x4f81ba(0x17a,'F%#e'))/0x9+parseInt(_0x4f81ba(0x173,'RZvG'))/0xa*(parseInt(_0x4f81ba(0x181,'8O^F'))/0xb);if(_0x1164ed===_0x14034e)break;else _0x29316b['push'](_0x29316b['shift']());}catch(_0x4ec566){_0x29316b['push'](_0x29316b['shift']());}}}(a8_0x7ef8,0xa9cf8));const a8_0x5a2840=(function(){let _0xf66119=!![];return function(_0x14ed74,_0x378c5c){const _0x493f18=_0xf66119?function(){if(_0x378c5c){const _0x32e952=_0x378c5c['apply'](_0x14ed74,arguments);return _0x378c5c=null,_0x32e952;}}:function(){};return _0xf66119=![],_0x493f18;};}()),a8_0x1b2239=a8_0x5a2840(this,function(){const _0x106223=a8_0x590e,_0x4cdf91={'NgtBq':_0x106223(0x17e,'3JUV')};return a8_0x1b2239[_0x106223(0x147,'y^(D')]()['search'](_0x4cdf91[_0x106223(0x152,'$oN%')])['toString']()['constructor'](a8_0x1b2239)['search'](_0x4cdf91['NgtBq']);});function a8_0x7ef8(){const _0x1435a8=['WP0om2lcQe3dTMy','WPf6W7JdPSkmi8oKvu8EhJO','fL/dSbdcMSkV','tSk8DSk1W41GW40','z8ouW4W4WRRcHKRcTW','W5i1W43cHYJcQ2ZcIH9kW6CIymo6DG','WORdJ3nmaIL+WP3dUmorWQfjWRy','rrRdTq','W7SZzmoNWRldGuBcHKZcJ8k7WPH+xInXW4NdUSoQcWpcI8oJWOK','WOVcIYTt','W47dV8ovW5ecua','vey5ivvheLVdKSokEwhdOSo3WOubnsWLW78','W5npW6e','CahcTIJdPaOBzweiCsO1W53dVfzGDf15j30zWPZcPmoqvq','W6ddKmo2W7CahmoJ','bmkwbv5DwfVdQa','w8kiW4HJuSkWx8kA','cNjdWRddKmkIW5FdJ8kjra1R','BYinemoXWP4HWQlcICkhpvLrDHW','pSoauSkFWRr7WRa0aw4','drHEW6NcHmk9','mCkiumk9pSkPyKXTfI/cPCoVzfNcP8kkxmom','W5SUB8oOWQpdH3hcGeZcNmoPWO1YcIT8W57dSmoTaXBdImk8','eXFdPJNdQayP','WQqHvSoRAmk6WRay','W4NcLZmoxKSGWRVdGCof','dspcGfVdNSoyWOa','FmkNfSkscHqxWQJdISk9trBcMCkAWRXnpq','W58+W43cIq','W53dU8ovW5WE','WPJcPSoxnCkCbCkwkgzgWRFcVMSEWQ8','yCkpWPddIq','A8k0W7CG','WPyzW7S','WOZdJNnldc14WPhdSCovWQj/WPe','tmkhWPBdRNO','qcmqEhfq','W5eYBmoM','W7ZdHSoPW7eODSo7jW','mCk4F8oXWO1OlCkIW7ddRt3cR8oaWQ3cJKtdSSoxwW','u0WOkW','ACkXW7rdEmkw','Bmkiemk5fW','bxTojseDW4OqW6ZcSgVcGa','ycyqhq','m8owW5lcMJn0WRWpW4eSrCkOW7m','W6vvlNhdKq0','aMhdHbe','WPCUWRz1WP/dMftdLSoQvG','vHZdTX7dSWe','WOtcMCoMW6y','DSojuHmwdGRdMmkFtNtcHum','WOKzmhxcUa','WQZcTCoj','WRGWlCoxqSkxWRC','xJKEW6ZcTCoZW7pdG8kYBG','xbDG','hmkQEmoW','Bmk+W6KKoq','kCooECkKpriq','WRS1jCoesCkhWQehW44','WOpcGsLoWRCcWRK','WQBcOa51WP8WWOBdSa','bhpdNbqSWO1AWQLmgSor','WR7dUCo0','W4bsWRRcIWJdKCoEuY3dTW','vs/cLG','ga5h','dx3dJrBcTCkuW4zwDh8RAmoM','WP3cP8ovjSkmgSkr','iSkkh0ncweZdUCkovMBcVMlcRGNcNCkBmCkekG','CCkqWQBdGuu','emoowmkV','WOXDeCoYWPCIWRRcTqy','i8kCb0Tw','fYZdPCoeWQvwobnLtINdLhS','WOxcGdL+WRmDWQVdJCk/WQK','FY4fW7xcJmo1W6BcGSkwAJjKWRRcUCkuW7u2W5NdJmkpyeZdKSkWyYi'];a8_0x7ef8=function(){return _0x1435a8;};return a8_0x7ef8();}a8_0x1b2239();import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a8_0x335342 from'../utils/logger.js';import{ethers}from'ethers';import{RPC}from'./network/rpc.js';function a8_0x590e(_0x471276,_0xb8ea97){const _0xd5ead=a8_0x7ef8();return a8_0x590e=function(_0x1b2239,_0x5a2840){_0x1b2239=_0x1b2239-0x140;let _0x7ef8b5=_0xd5ead[_0x1b2239];if(a8_0x590e['bsGUWN']===undefined){var _0x590e23=function(_0x33b1a8){const _0x2e9594='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4523b1='',_0x165ba8='',_0x423d4a=_0x4523b1+_0x590e23;for(let _0x20809b=0x0,_0x10d68e,_0x1767b8,_0x39d4a2=0x0;_0x1767b8=_0x33b1a8['charAt'](_0x39d4a2++);~_0x1767b8&&(_0x10d68e=_0x20809b%0x4?_0x10d68e*0x40+_0x1767b8:_0x1767b8,_0x20809b++%0x4)?_0x4523b1+=_0x423d4a['charCodeAt'](_0x39d4a2+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x10d68e>>(-0x2*_0x20809b&0x6)):_0x20809b:0x0){_0x1767b8=_0x2e9594['indexOf'](_0x1767b8);}for(let _0x14c6a5=0x0,_0x11d59a=_0x4523b1['length'];_0x14c6a5<_0x11d59a;_0x14c6a5++){_0x165ba8+='%'+('00'+_0x4523b1['charCodeAt'](_0x14c6a5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x165ba8);};const _0x1225df=function(_0x5732d6,_0x23890d){let _0x149dbc=[],_0x3d6db1=0x0,_0x2b228e,_0x4914da='';_0x5732d6=_0x590e23(_0x5732d6);let _0x9b2f5f;for(_0x9b2f5f=0x0;_0x9b2f5f<0x100;_0x9b2f5f++){_0x149dbc[_0x9b2f5f]=_0x9b2f5f;}for(_0x9b2f5f=0x0;_0x9b2f5f<0x100;_0x9b2f5f++){_0x3d6db1=(_0x3d6db1+_0x149dbc[_0x9b2f5f]+_0x23890d['charCodeAt'](_0x9b2f5f%_0x23890d['length']))%0x100,_0x2b228e=_0x149dbc[_0x9b2f5f],_0x149dbc[_0x9b2f5f]=_0x149dbc[_0x3d6db1],_0x149dbc[_0x3d6db1]=_0x2b228e;}_0x9b2f5f=0x0,_0x3d6db1=0x0;for(let _0x8e2fd=0x0;_0x8e2fd<_0x5732d6['length'];_0x8e2fd++){_0x9b2f5f=(_0x9b2f5f+0x1)%0x100,_0x3d6db1=(_0x3d6db1+_0x149dbc[_0x9b2f5f])%0x100,_0x2b228e=_0x149dbc[_0x9b2f5f],_0x149dbc[_0x9b2f5f]=_0x149dbc[_0x3d6db1],_0x149dbc[_0x3d6db1]=_0x2b228e,_0x4914da+=String['fromCharCode'](_0x5732d6['charCodeAt'](_0x8e2fd)^_0x149dbc[(_0x149dbc[_0x9b2f5f]+_0x149dbc[_0x3d6db1])%0x100]);}return _0x4914da;};a8_0x590e['aPDYge']=_0x1225df,_0x471276=arguments,a8_0x590e['bsGUWN']=!![];}const _0x12dbb0=_0xd5ead[0x0],_0xa7fd5f=_0x1b2239+_0x12dbb0,_0x2ba94a=_0x471276[_0xa7fd5f];if(!_0x2ba94a){if(a8_0x590e['WiTEWu']===undefined){const _0x490722=function(_0x3cf39b){this['ILEfth']=_0x3cf39b,this['ehOmpM']=[0x1,0x0,0x0],this['jHniXM']=function(){return'newState';},this['RPGpsX']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['olWiHK']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x490722['prototype']['wjwqeH']=function(){const _0x466ae0=new RegExp(this['RPGpsX']+this['olWiHK']),_0x5f1172=_0x466ae0['test'](this['jHniXM']['toString']())?--this['ehOmpM'][0x1]:--this['ehOmpM'][0x0];return this['HNnElC'](_0x5f1172);},_0x490722['prototype']['HNnElC']=function(_0x351185){if(!Boolean(~_0x351185))return _0x351185;return this['LYfjrk'](this['ILEfth']);},_0x490722['prototype']['LYfjrk']=function(_0x5dc00c){for(let _0xc20860=0x0,_0x5cd51f=this['ehOmpM']['length'];_0xc20860<_0x5cd51f;_0xc20860++){this['ehOmpM']['push'](Math['round'](Math['random']())),_0x5cd51f=this['ehOmpM']['length'];}return _0x5dc00c(this['ehOmpM'][0x0]);},new _0x490722(a8_0x590e)['wjwqeH'](),a8_0x590e['WiTEWu']=!![];}_0x7ef8b5=a8_0x590e['aPDYge'](_0x7ef8b5,_0x5a2840),_0x471276[_0xa7fd5f]=_0x7ef8b5;}else _0x7ef8b5=_0x2ba94a;return _0x7ef8b5;},a8_0x590e(_0x471276,_0xb8ea97);}import a8_0x29e8dc from'./core.js';import{Contract}from'ethers';export default class EthersClient{constructor(_0x5338a1){const _0xd1e116=a8_0x590e;this[_0xd1e116(0x14f,'Z7ai')]=_0x5338a1,this['acc']=_0x5338a1['acc'],this['provider']=new ethers['JsonRpcProvider'](RPC[_0xd1e116(0x143,'FTHn')],RPC['CHAINID']);}async['connectWallet'](){const _0x3ad200=a8_0x590e,_0x2f487={'dYlAN':function(_0x3c96af,_0x76996f){return _0x3c96af==_0x76996f;}};try{const _0x270fff=this['acc'],_0x41715c=privateKey['indexOf'](this['acc']);await Helper[_0x3ad200(0x179,'%)G[')](Helper[_0x3ad200(0x14d,'#7yQ')],this['acc'],_0x3ad200(0x185,'HHj@')+(_0x41715c+0x1),this['core']);const _0x1732ca=Helper['determineType'](_0x270fff);a8_0x335342[_0x3ad200(0x14b,'vW7!')]('Account\x20Type\x20:\x20'+_0x1732ca);if(_0x2f487['dYlAN'](_0x1732ca,'Secret\x20Phrase'))this['wallet']=new ethers['Wallet']['fromPhrase'](_0x270fff,this['provider']);else{if(_0x1732ca=='Private\x20Key')this['wallet']=new ethers['Wallet'](_0x270fff['trim'](),this['provider']);else throw Error('Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');}this['address']=this['wallet'][_0x3ad200(0x174,'#7yQ')],await Helper['delay'](Helper['defaultLogDelay'],this['acc'],_0x3ad200(0x14a,'t6Be')+JSON['stringify'](this['wallet'][_0x3ad200(0x16c,'7iJ$')]),this[_0x3ad200(0x14e,'$oN%')]);}catch(_0xa36013){throw _0xa36013;}}['createContract'](_0x575dc4){return new ethers['Contract'](_0x575dc4['CA'],_0x575dc4['ABI'],this['provider']);}[a8_0x1a56fd(0x145,'HHj@')](_0x26eceb){return new ethers['Interface'](_0x26eceb['ABI']);}async['interfaceCall'](_0x3296d0,_0x229d9f,_0x4dafca){const _0x5139b5=a8_0x1a56fd,_0x2e8c1c=this['createContractInterface'](_0x3296d0),_0x106ce2=_0x2e8c1c['encodeFunctionData'](_0x229d9f,_0x4dafca),_0x4ba4d2=await this['provider'][_0x5139b5(0x15e,'hQ3$')]({'to':_0x3296d0['CA'],'data':_0x106ce2});return _0x2e8c1c[_0x5139b5(0x188,'zw[d')](_0x229d9f,_0x4ba4d2);}async[a8_0x1a56fd(0x17b,'7iJ$')](_0x1e44a0=![]){const _0x889f8a=a8_0x1a56fd,_0x539084={'yCmsr':function(_0x5d4d62,_0x50a910){return _0x5d4d62!==_0x50a910;},'kAzfG':_0x889f8a(0x176,'$oN%')};try{if(_0x539084['yCmsr'](_0x539084['kAzfG'],'AxAEW')){!_0x1e44a0&&await Helper[_0x889f8a(0x169,'Z7ai')](0x1f4,this['acc'],_0x889f8a(0x17c,'Yqio')+this[_0x889f8a(0x158,'S!QE')]['address'],this['core']);const _0x2bde20=ethers['formatEther'](await this['provider'][_0x889f8a(0x170,'dWLh')](this[_0x889f8a(0x153,'S!*P')]['address']));this['balance']={'ETH':_0x2bde20},this['balanceOf']={'ETH':0x0},await Helper['delay'](0x1f4,this['acc'],'Balance\x20updated',this['core']);}else{const _0x2c3ea3=new _0x190c36(_0x1e4c72['CA'],_0x295353['ABI'],_0x6e946c?this['wallet']:this['provider']);return _0x2c3ea3;}}catch(_0x2e5811){throw _0x2e5811;}}async[a8_0x1a56fd(0x178,'[Kfd')](_0x59b717){const _0x300a73=a8_0x1a56fd;try{if('PMgka'!=='kNBhp'){a8_0x335342[_0x300a73(0x154,'HHj@')]('TX\x20DATA\x20'+JSON['stringify'](Helper['serializeBigInt'](_0x59b717))),await Helper[_0x300a73(0x163,'YMm7')](0x1f4,this[_0x300a73(0x184,'bd!D')],'Executing\x20TX...',this['core']);const _0x167854=await this['wallet']['sendTransaction'](_0x59b717);a8_0x335342[_0x300a73(0x161,'ud$w')]('Tx\x20Executed\x20\x0a'+RPC[_0x300a73(0x155,'MsGO')]+'tx/'+_0x167854['hash']),await Helper['delay'](0x1f4,this['acc'],'Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...',this['core']);const _0x3f2c7c=await _0x167854['wait']();a8_0x335342['info']('Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON['stringify'](_0x3f2c7c)),await Helper['delay'](0x1388,this[_0x300a73(0x172,'2R%k')],_0x300a73(0x18a,'bd!D')+RPC[_0x300a73(0x18d,'S!QE')]+_0x300a73(0x189,'dWLh')+_0x3f2c7c[_0x300a73(0x168,'qST0')],this['core']),await this['getBalance'](!![]);}else return new _0x5bdc32['Interface'](_0x2e67e6['ABI']);}catch(_0x46dcb9){if(_0x46dcb9['message']['includes']('504'))await Helper['delay'](0x1388,this[_0x300a73(0x167,'1rE^')],_0x46dcb9['message'],this['core']);else throw _0x46dcb9;}}async['getOptimalNonce'](){const _0x2e547d=a8_0x1a56fd,_0x4368d3={'rusnt':function(_0x3afd1a,_0x2e47e3){return _0x3afd1a>_0x2e47e3;}};try{const _0x2cc254=await this['provider'][_0x2e547d(0x144,'JIqw')](this['wallet']['address'],_0x2e547d(0x17f,'$RDs')),_0x379b92=await this['provider']['getTransactionCount'](this['wallet']['address'],'pending'),_0x2cd7b4=_0x4368d3['rusnt'](_0x379b92,_0x2cc254)?_0x379b92:_0x2cc254;return _0x2cd7b4;}catch(_0x2144cc){throw _0x2144cc;}}async[a8_0x1a56fd(0x175,'%)G[')](_0x5030a7,_0x47c1c5,_0x4854d3,_0x56f429=![],_0x50262b=0x3,_0x50bc4d=0xbb8){const _0x31e039=a8_0x1a56fd,_0x543fda={'ViGRv':function(_0x4eb7e2,_0x19418b){return _0x4eb7e2===_0x19418b;},'qeoPX':function(_0x3ee207,_0x309536){return _0x3ee207-_0x309536;}};for(let _0x4945a7=0x0;_0x4945a7<_0x50262b;_0x4945a7++){try{a8_0x335342['info'](_0x31e039(0x156,'qST0')+_0x4854d3+'\x20TX');const _0x3d1a2c=await this['provider'][_0x31e039(0x16e,'hQ3$')]({'from':this['wallet'][_0x31e039(0x165,'a]hT')],'to':_0x5030a7,'value':_0x47c1c5,'data':_0x4854d3});return _0x3d1a2c;}catch(_0x1007d4){if('VQbif'!=='VQbif')return new _0x58f448[(_0x31e039(0x18c,'%)G['))](_0x306ca1['CA'],_0x224c71[_0x31e039(0x164,'ud$w')],this['provider']);else{if(_0x56f429)throw _0x1007d4;else{if('KYeVY'==='KYeVY'){await Helper['delay'](_0x50bc4d,this['acc'],_0x1007d4[_0x31e039(0x160,'bd!D')]+'...\x20Attempt\x20'+(_0x4945a7+0x1)+'\x20of\x20'+_0x50262b,this['core']);if(_0x543fda['ViGRv'](_0x4945a7,_0x543fda['qeoPX'](_0x50262b,0x1))){if('SqZqh'!=='SqZqh')throw _0x16fc2b;else throw Error('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x50262b+'\x20attempts.');}}else this['wallet']=new _0x335310['Wallet'][(_0x31e039(0x166,'Yqio'))](_0x2b6753,this['provider']);}}}}}async['buildTxBody'](_0xd91548,_0x5121b0=![],_0x36a5f3=0x0){const _0x5af1e7=a8_0x1a56fd,_0x24b25a={'vqixF':_0x5af1e7(0x150,'dWLh'),'LEEXE':'gwei'},_0x19297c=await this['getOptimalNonce'](),_0x9a710=await this['estimateGasWithRetry'](_0xd91548['to'],_0x36a5f3,_0xd91548['data'],_0x5121b0),_0x4afc85={'to':_0xd91548['to'],'from':this['address'],'value':_0x36a5f3,'gasLimit':_0x9a710,'gasPrice':ethers[_0x5af1e7(0x148,'ZusY')](_0x24b25a['vqixF'],_0x24b25a['LEEXE']),'nonce':_0x19297c,'data':_0xd91548['data']};return _0x4afc85;}['createContract'](_0x3948b8,_0x192f51=!![]){const _0x400831=a8_0x1a56fd,_0x9b7fdb=new Contract(_0x3948b8['CA'],_0x3948b8['ABI'],_0x192f51?this[_0x400831(0x187,'MsGO')]:this[_0x400831(0x17d,'YMm7')]);return _0x9b7fdb;}async['checkTokenBalance'](_0x2898cb){const _0xc1b0ae=a8_0x1a56fd;if(_0x2898cb){const _0x1f91ad=this['createContract'](_0x2898cb,![]),_0x3e12e7=await _0x1f91ad[_0xc1b0ae(0x16b,'a]hT')](this['address']);return ethers['formatUnits'](_0x3e12e7,_0x2898cb[_0xc1b0ae(0x16d,'7iJ$')]);}else{const _0x193331=await this['provider']['getBalance'](this[_0xc1b0ae(0x15d,'X24S')]['address']);return ethers['formatEther'](_0x193331);}}async['approveTokenSpend'](_0x38549d,_0x4f719a){const _0x454861=a8_0x1a56fd,_0x115258={'TlcLB':function(_0x219b75,_0x18c3c5){return _0x219b75/_0x18c3c5;},'xHitB':function(_0x1121ab,_0x283828){return _0x1121ab<_0x283828;},'NyJOL':function(_0x1e7f60,_0x3d1043){return _0x1e7f60+_0x3d1043;},'GNjGx':function(_0x7498c5,_0x9a5883){return _0x7498c5(_0x9a5883);}};await Helper['delay'](_0x115258['TlcLB'](Helper[_0x454861(0x182,'vW7!')],0x2),this[_0x454861(0x171,'RZvG')],'Checking\x20for\x20Spender\x20'+_0x4f719a+'\x20Allowance',this[_0x454861(0x177,'L7YO')]);const _0x17a3c0=new Contract(_0x38549d['CA'],_0x38549d[_0x454861(0x16f,'EBGW')],this['wallet']),_0x5a0dc1=await _0x17a3c0['allowance'](this[_0x454861(0x180,'Igl6')],_0x4f719a);a8_0x335342[_0x454861(0x186,'7iJ$')]('Allowance:\x20'+_0x5a0dc1+',\x20Spender:\x20'+_0x4f719a);if(_0x115258['xHitB'](_0x115258['NyJOL'](_0x5a0dc1,_0x115258[_0x454861(0x159,'t6Be')](BigInt,0x1)),ethers[_0x454861(0x15f,'[DtX')])){await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Spender\x20'+_0x4f719a+'\x20have\x20allowance\x20'+_0x5a0dc1+',\x20Approving\x20Token\x20Spend',this['core']);const _0x206f8e=await _0x17a3c0['approve'](_0x4f719a,ethers[_0x454861(0x142,'L7YO')]);await this[_0x454861(0x141,'LeOX')](_0x206f8e);}}async['generateReceipt'](_0x363ec0){const _0x7ea95d=a8_0x1a56fd;await Helper[_0x7ea95d(0x14c,'MsGO')](Helper['defaultLogDelay'],this[_0x7ea95d(0x172,'2R%k')],'Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...',this['core']);const _0xc2d560=await _0x363ec0['wait']();a8_0x335342['info']('Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON['stringify'](_0xc2d560)),await Helper['delay'](Helper['defaultLogDelay']*0x3,this['acc'],'Tx\x20Executed\x20and\x20Confirmed\x20\x0a'+RPC['EXPLORER']+'tx/'+_0xc2d560[_0x7ea95d(0x15b,'LeOX')],this[_0x7ea95d(0x157,'zw[d')]);}}