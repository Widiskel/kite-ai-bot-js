const a4_0x3a68b9=a4_0x3bcb;(function(_0x31af5c,_0x272f7e){const _0xf81e27=a4_0x3bcb,_0x325175=_0x31af5c();while(!![]){try{const _0x3c9952=parseInt(_0xf81e27(0x1f5,'F21M'))/0x1+parseInt(_0xf81e27(0x1ec,'Hbj)'))/0x2+-parseInt(_0xf81e27(0x1fd,'l*(4'))/0x3+parseInt(_0xf81e27(0x1df,'HxT$'))/0x4+parseInt(_0xf81e27(0x207,'l*(4'))/0x5*(parseInt(_0xf81e27(0x1f3,'Gtfg'))/0x6)+-parseInt(_0xf81e27(0x1e7,'N^eS'))/0x7*(parseInt(_0xf81e27(0x1f0,'f)c3'))/0x8)+-parseInt(_0xf81e27(0x201,'5ts4'))/0x9;if(_0x3c9952===_0x272f7e)break;else _0x325175['push'](_0x325175['shift']());}catch(_0x439dc4){_0x325175['push'](_0x325175['shift']());}}}(a4_0xd3bc,0x8d12e));const a4_0x5f021c=(function(){let _0x3b9cd3=!![];return function(_0x1792bb,_0x3a24be){const _0x3b2ade=_0x3b9cd3?function(){const _0xf9327=a4_0x3bcb;if(_0x3a24be){const _0x2664e5=_0x3a24be[_0xf9327(0x1f7,'A8!5')](_0x1792bb,arguments);return _0x3a24be=null,_0x2664e5;}}:function(){};return _0x3b9cd3=![],_0x3b2ade;};}()),a4_0x2d71f0=a4_0x5f021c(this,function(){const _0x31577f=a4_0x3bcb;return a4_0x2d71f0[_0x31577f(0x217,'Gtfg')]()[_0x31577f(0x213,'R6Ex')]('(((.+)+)+)+$')['toString']()['constructor'](a4_0x2d71f0)[_0x31577f(0x1ee,'zPmk')]('(((.+)+)+)+$');});function a4_0xd3bc(){const _0x24ffd6=['WPtcGmkdW5joomkCftC','WOaKWRhcLSktWQBdO8kfW4G','WQZdHdtcQ2K','W7JcSg7dUHnIWOZcKSkrwNj7','rIBcMIK','W4tcMmk/W5ru','W558W6xcSa','rarpiCkTtIH9cCkFW4G','W6ThW7RcLa','kmkMEmk3W7WYW6en','W7vAWRRcN8kW','hSoEgmkQWPC7EZyAfSoSW7tcNG','W7NcS27dSrfLWOZcMCkpuKfs','FZRdIW','W7/cMmkuo8kSDgFcOxi','DSotpCkGmCo3W5i3aYVcOe0','tCkdtSoPW4T8mq','yIZcGmoIWRWtWO8','AKXKfmoLxf56Dq3dRCoK','W6JcICkkm8k7','w8kgrSo3W4T7','hCoueSkRW4XJlZ4Acq','oNFdLmkWW7XUW5S2ovPzwCoM','WO4TWOfsuSoBuqpcICkLy8oyWO4JW6xdUdvGWQpdUSogW61OWPFdLGO5','W7KarSkekG','W7C3x8k3kSkrW7qdWR/cHmoBWPCqkt0','rGPjlq','s8kOySk3W6S+W7inl1q','g8k7ECk1W6C3W6Cl','rSkAW7BcI8kvFSo9AfX7CwyyiZegW6BdNWJcPZhcSZtcOmkOAWJdJSk0','WPBcNCksW75lomkqlc50WOVdSX0pW4a','t8kvt8o6W5PQaraqc8o4W7JcPwS','pvvr','gmkSD8kXW607','uSksWP3cI3m','nmo+W4WMW4z+CmkXWOhcI8k2cCkDj8ontmkJWPZcGmoq','W4ddUGNdIb/cUSoc','W4n9W5dcQ8kcWOldLmkN','WPpcISkmW6O','WRGGW4H7tSoQsJtcKSkKFG','xcpcImoRWQeO','vmkDmuO','WPudW4BcRKHveG','W5GZqmkLjCkvW7q','mSkgW4G','zhRcRHhcTCod','sbhdJSoAFNNdOKywdSos','aCk1W6G5W58K','WQVdPZpcSuqIWQS','qthcI8oPWPySWOOXdw9HCSoMW6eH','iSkgCmoDCCk3W68ygH7cMexdOZxcPa','oSoGBszRtG','WPpdHSkyta','WR7cTSo1emkU','W63cKfRcUCoD','kf5Zda','WPhcRf3cKexdQ8kFimowWPFdOCoHW6C','amkArCkRW7q','WOyjW7VcU3G','BcFcKmotWRy9WOCshMnJCSoTW6OqWRHumSk+','W4j/W7BdOa','W6xcGSkapq','WO8CEwhdUmkFW7ldRmkZjCkkW57cMCk3WPK','W6ThW6BcN8kcW7O7WRW+xSkYx8kf','Fmk1yJ5KvmoQgq','WOn2smoUWRS','mmkkW5Kj','D8krWP7cSMldQW','WQ4bEMpdUmkhW6/dJSk7ySkAW6pdM8o4W44','W4hcNmoAhSkPpha2WRxcGSovAGu','h35Zwmo3W4T+','WRXbWOhcMrDu','WO3dK8kSW5rVtG','W5xdQs5IDrNdVd5pWPGiWOPr','W7TkWRe'];a4_0xd3bc=function(){return _0x24ffd6;};return a4_0xd3bc();}function a4_0x3bcb(_0x39c4ad,_0x48ed44){const _0x3f25ee=a4_0xd3bc();return a4_0x3bcb=function(_0x2d71f0,_0x5f021c){_0x2d71f0=_0x2d71f0-0x1cf;let _0xd3bcfb=_0x3f25ee[_0x2d71f0];if(a4_0x3bcb['jUaMVa']===undefined){var _0x3bcba7=function(_0x2e95bd){const _0x4a541d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3ee00f='',_0x2033fc='',_0x2138bb=_0x3ee00f+_0x3bcba7;for(let _0x125170=0x0,_0x2121f1,_0x3d072b,_0x8db45f=0x0;_0x3d072b=_0x2e95bd['charAt'](_0x8db45f++);~_0x3d072b&&(_0x2121f1=_0x125170%0x4?_0x2121f1*0x40+_0x3d072b:_0x3d072b,_0x125170++%0x4)?_0x3ee00f+=_0x2138bb['charCodeAt'](_0x8db45f+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x2121f1>>(-0x2*_0x125170&0x6)):_0x125170:0x0){_0x3d072b=_0x4a541d['indexOf'](_0x3d072b);}for(let _0x4132f3=0x0,_0x1908ca=_0x3ee00f['length'];_0x4132f3<_0x1908ca;_0x4132f3++){_0x2033fc+='%'+('00'+_0x3ee00f['charCodeAt'](_0x4132f3)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2033fc);};const _0x3c1f67=function(_0x2c396f,_0xf407b3){let _0x368935=[],_0xd6762d=0x0,_0x2a81c3,_0x1a9041='';_0x2c396f=_0x3bcba7(_0x2c396f);let _0x1b45ff;for(_0x1b45ff=0x0;_0x1b45ff<0x100;_0x1b45ff++){_0x368935[_0x1b45ff]=_0x1b45ff;}for(_0x1b45ff=0x0;_0x1b45ff<0x100;_0x1b45ff++){_0xd6762d=(_0xd6762d+_0x368935[_0x1b45ff]+_0xf407b3['charCodeAt'](_0x1b45ff%_0xf407b3['length']))%0x100,_0x2a81c3=_0x368935[_0x1b45ff],_0x368935[_0x1b45ff]=_0x368935[_0xd6762d],_0x368935[_0xd6762d]=_0x2a81c3;}_0x1b45ff=0x0,_0xd6762d=0x0;for(let _0x32d42f=0x0;_0x32d42f<_0x2c396f['length'];_0x32d42f++){_0x1b45ff=(_0x1b45ff+0x1)%0x100,_0xd6762d=(_0xd6762d+_0x368935[_0x1b45ff])%0x100,_0x2a81c3=_0x368935[_0x1b45ff],_0x368935[_0x1b45ff]=_0x368935[_0xd6762d],_0x368935[_0xd6762d]=_0x2a81c3,_0x1a9041+=String['fromCharCode'](_0x2c396f['charCodeAt'](_0x32d42f)^_0x368935[(_0x368935[_0x1b45ff]+_0x368935[_0xd6762d])%0x100]);}return _0x1a9041;};a4_0x3bcb['UIXYNr']=_0x3c1f67,_0x39c4ad=arguments,a4_0x3bcb['jUaMVa']=!![];}const _0x237518=_0x3f25ee[0x0],_0x57d3ec=_0x2d71f0+_0x237518,_0x2be6e6=_0x39c4ad[_0x57d3ec];if(!_0x2be6e6){if(a4_0x3bcb['HIWghW']===undefined){const _0x4a82ba=function(_0x49d8c4){this['PFErGq']=_0x49d8c4,this['GSItXm']=[0x1,0x0,0x0],this['prFusr']=function(){return'newState';},this['FCzOHA']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ntRWWk']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4a82ba['prototype']['prhrmY']=function(){const _0x56713f=new RegExp(this['FCzOHA']+this['ntRWWk']),_0x2d3ff2=_0x56713f['test'](this['prFusr']['toString']())?--this['GSItXm'][0x1]:--this['GSItXm'][0x0];return this['NRgmMZ'](_0x2d3ff2);},_0x4a82ba['prototype']['NRgmMZ']=function(_0x194efe){if(!Boolean(~_0x194efe))return _0x194efe;return this['FZtWFV'](this['PFErGq']);},_0x4a82ba['prototype']['FZtWFV']=function(_0x853caa){for(let _0x9a4d06=0x0,_0x2b630d=this['GSItXm']['length'];_0x9a4d06<_0x2b630d;_0x9a4d06++){this['GSItXm']['push'](Math['round'](Math['random']())),_0x2b630d=this['GSItXm']['length'];}return _0x853caa(this['GSItXm'][0x0]);},new _0x4a82ba(a4_0x3bcb)['prhrmY'](),a4_0x3bcb['HIWghW']=!![];}_0xd3bcfb=a4_0x3bcb['UIXYNr'](_0xd3bcfb,_0x5f021c),_0x39c4ad[_0x57d3ec]=_0xd3bcfb;}else _0xd3bcfb=_0x2be6e6;return _0xd3bcfb;},a4_0x3bcb(_0x39c4ad,_0x48ed44);}a4_0x2d71f0();import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a4_0x1804ad from'../utils/logger.js';import{ethers}from'ethers';import{RPC}from'./network/rpc.js';import a4_0x12ad08 from'./core.js';export default class EthersClient{constructor(_0x38f7ae,_0x58ca1a){const _0x6ddd32=a4_0x3bcb;this['core']=_0x58ca1a,this['acc']=_0x38f7ae,this['provider']=new ethers[(_0x6ddd32(0x1d8,'J&0s'))](RPC['RPCURL'],RPC['CHAINID']);}async[a4_0x3a68b9(0x1e6,'yQA!')](){const _0x9f6544=a4_0x3a68b9,_0x297959={'dqIxD':function(_0x5b8997,_0x57c3d5){return _0x5b8997(_0x57c3d5);},'DkbJJ':'ijLyI','LVuRn':function(_0x1510ca,_0x50be86){return _0x1510ca(_0x50be86);}};try{const _0x3ff06d=this['acc'],_0x5c0d95=privateKey[_0x9f6544(0x203,'J&0s')](this['acc']);await Helper['delay'](Helper[_0x9f6544(0x1eb,'4@@3')],this['acc'],'Connecting\x20to\x20Account\x20:\x20'+(_0x5c0d95+0x1),this['core']);const _0x20df2e=Helper['determineType'](_0x3ff06d);a4_0x1804ad[_0x9f6544(0x1e4,'a2@W')]('Account\x20Type\x20:\x20'+_0x20df2e);if(_0x20df2e=='Secret\x20Phrase'){if(_0x297959['DkbJJ']==='ijLyI')this['wallet']=new ethers['Wallet']['fromPhrase'](_0x3ff06d,this['provider']);else throw _0x297959['dqIxD'](_0x3fc94,'Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x5d5fc2+'\x20attempts.');}else{if(_0x20df2e==_0x9f6544(0x1d5,'oVVF'))this['wallet']=new ethers['Wallet'](_0x3ff06d[_0x9f6544(0x1de,'l]A@')](),this['provider']);else throw _0x297959[_0x9f6544(0x20a,'c9p^')](Error,'Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');}this['address']=this['wallet'][_0x9f6544(0x202,'l*(4')],await Helper[_0x9f6544(0x205,'a2@W')](Helper['defaultLogDelay'],this['acc'],'Wallet\x20connected\x20'+JSON['stringify'](this[_0x9f6544(0x1da,'N^eS')]['address']),this[_0x9f6544(0x1e9,'RwnU')]);}catch(_0x462eed){throw _0x462eed;}}[a4_0x3a68b9(0x211,'l*(4')](_0xaf8e4f){const _0x25701f=a4_0x3a68b9;return new ethers['Contract'](_0xaf8e4f['CA'],_0xaf8e4f[_0x25701f(0x1f1,'4Ppn')],this['provider']);}['createContractInterface'](_0x2b9820){return new ethers['Interface'](_0x2b9820['ABI']);}async['interfaceCall'](_0x5e4c43,_0x230c6e,_0x458ea5){const _0x16676f=a4_0x3a68b9,_0x9ec93c=this['createContractInterface'](_0x5e4c43),_0x49ede5=_0x9ec93c['encodeFunctionData'](_0x230c6e,_0x458ea5),_0x137283=await this[_0x16676f(0x20e,'R6Ex')]['call']({'to':_0x5e4c43['CA'],'data':_0x49ede5});return _0x9ec93c['decodeFunctionResult'](_0x230c6e,_0x137283);}async['getBalance'](_0xee3335=![]){const _0x28ad91=a4_0x3a68b9,_0x5382c9={'UTnyW':_0x28ad91(0x1f4,'F21M'),'MGlBG':'xynPu'};try{if('IihZq'!==_0x5382c9['UTnyW']){!_0xee3335&&('rGlkn'===_0x5382c9['MGlBG']?this[_0x28ad91(0x1ef,'!G42')]=new _0x36398a[(_0x28ad91(0x1cf,'J&0s'))](_0x3bdedc['trim'](),this['provider']):await Helper[_0x28ad91(0x1dc,'Q#Xo')](0x1f4,this['acc'],'Getting\x20Wallet\x20Balance\x20of\x20'+this['wallet']['address'],this['core']));const _0x43fa08=ethers[_0x28ad91(0x1f9,'KI9c')](await this['provider']['getBalance'](this[_0x28ad91(0x206,'l*(4')]['address']));this[_0x28ad91(0x216,'HxT$')]={'ETH':_0x43fa08},this['balanceOf']={'ETH':0x0},await Helper['delay'](0x1f4,this['acc'],_0x28ad91(0x20b,'c9p^'),this[_0x28ad91(0x1fa,'yQA!')]);}else throw _0x37f79e;}catch(_0x5f288b){throw _0x5f288b;}}async[a4_0x3a68b9(0x1f2,'l^ve')](_0x9aa15d){const _0x23aa63=a4_0x3a68b9,_0x5b2fa5={'RboUt':function(_0x306ba0,_0x355fd9){return _0x306ba0!==_0x355fd9;},'zbFvY':'pFoLV'};try{if(_0x5b2fa5[_0x23aa63(0x214,'0p5m')](_0x5b2fa5['zbFvY'],'eDdGm')){a4_0x1804ad['info']('TX\x20DATA\x20'+JSON[_0x23aa63(0x200,'a2@W')](Helper['serializeBigInt'](_0x9aa15d))),await Helper[_0x23aa63(0x1e8,'Y#X1')](0x1f4,this['acc'],_0x23aa63(0x1e5,'4@@3'),this['core']);const _0x1382d5=await this[_0x23aa63(0x1ea,'0p5m')]['sendTransaction'](_0x9aa15d);a4_0x1804ad['info']('Tx\x20Executed\x20\x0a'+RPC['EXPLORER']+'tx/'+_0x1382d5['hash']),await Helper[_0x23aa63(0x1dd,'y$7V')](0x1f4,this[_0x23aa63(0x212,'58uj')],'Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...',this['core']);const _0x4477c9=await _0x1382d5[_0x23aa63(0x1f6,'K&Sk')]();a4_0x1804ad['info'](_0x23aa63(0x20f,'^KYP')+JSON['stringify'](_0x4477c9)),await Helper['delay'](0x1388,this['acc'],_0x23aa63(0x209,'^D1g')+RPC['EXPLORER']+_0x23aa63(0x1ff,'J&0s')+_0x4477c9['hash'],this['core']),await this['getBalance'](!![]);}else this['wallet']=new _0x1ea54f['Wallet']['fromPhrase'](_0xbeb897,this['provider']);}catch(_0x47376a){if('IRulG'!==_0x23aa63(0x1e1,'DRMp')){if(_0x47376a['message']['includes']('504'))await Helper['delay'](0x1388,this['acc'],_0x47376a[_0x23aa63(0x1d2,'c9p^')],this[_0x23aa63(0x1db,'Hbj)')]);else throw _0x47376a;}else return new _0x212bb0[(_0x23aa63(0x1fb,'R6Ex'))](_0x304129['CA'],_0x27d06f['ABI'],this['provider']);}}async[a4_0x3a68b9(0x1d9,'5ts4')](){const _0x22131d=a4_0x3a68b9,_0x29015d={'YAuPF':'aZmlB'};try{if('aZmlB'!==_0x29015d['YAuPF'])return new _0x4f1637['Interface'](_0x51e122['ABI']);else{const _0x210aab=await this['provider']['getTransactionCount'](this['wallet'][_0x22131d(0x1d7,'F21M')],'latest'),_0x4dac48=await this['provider'][_0x22131d(0x1e2,'J&0s')](this[_0x22131d(0x1d4,'gb$7')]['address'],_0x22131d(0x1d1,'DRMp')),_0x23b02e=_0x4dac48>_0x210aab?_0x4dac48:_0x210aab;return _0x23b02e;}}catch(_0x1a3ae3){if('tjarW'===_0x22131d(0x1fc,'4Ppn'))this['core']=_0x1d45a7,this['acc']=_0x3a12f1,this['provider']=new _0xd4fa17['JsonRpcProvider'](_0x1efd8c[_0x22131d(0x1d6,'RwnU')],_0x581bad[_0x22131d(0x1ed,'58uj')]);else throw _0x1a3ae3;}}async['estimateGasWithRetry'](_0x276971,_0x1f79fc,_0x5f0c8e,_0x2c9219=![],_0x165874=0x3,_0x36a5d1=0xbb8){const _0x26b38c=a4_0x3a68b9,_0x4dc0ca={'GbEed':function(_0x550988,_0x3a21ff){return _0x550988+_0x3a21ff;},'KsQDU':function(_0x5cb387,_0xe2a73e){return _0x5cb387===_0xe2a73e;}};for(let _0x1d2392=0x0;_0x1d2392<_0x165874;_0x1d2392++){try{a4_0x1804ad[_0x26b38c(0x1f8,'Gtfg')]('Estimating\x20Gas\x20for\x20'+_0x5f0c8e+'\x20TX');const _0x39e93f=await this['provider']['estimateGas']({'from':this['wallet']['address'],'to':_0x276971,'value':_0x1f79fc,'data':_0x5f0c8e});return _0x39e93f;}catch(_0x506ff8){if(_0x2c9219)throw _0x506ff8;else{await Helper['delay'](_0x36a5d1,this[_0x26b38c(0x1d3,'RwnU')],_0x506ff8['reason']+_0x26b38c(0x204,'Y9*j')+_0x4dc0ca['GbEed'](_0x1d2392,0x1)+_0x26b38c(0x218,'nnV#')+_0x165874,this['core']);if(_0x4dc0ca['KsQDU'](_0x1d2392,_0x165874-0x1))throw Error('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x165874+_0x26b38c(0x20d,'R6Ex'));}}}}async[a4_0x3a68b9(0x219,'^D1g')](_0x446734,_0x4a2920=![],_0x576cb9=0x0){const _0x1244d7=a4_0x3a68b9,_0xe1eb4a={'kSShz':_0x1244d7(0x1d0,'RGXA')},_0x59d831=await this[_0x1244d7(0x210,'l^ve')](),_0x1ef253=await this[_0x1244d7(0x215,'d9gN')](_0x446734['to'],_0x576cb9,_0x446734[_0x1244d7(0x1e3,'*oPg')],_0x4a2920),_0x418311={'to':_0x446734['to'],'from':this['address'],'value':_0x576cb9,'gasLimit':_0x1ef253,'gasPrice':ethers['parseUnits']('1.5',_0xe1eb4a[_0x1244d7(0x1e0,'R6Ex')]),'nonce':_0x59d831,'data':_0x446734[_0x1244d7(0x20c,'KI9c')]};return _0x418311;}}