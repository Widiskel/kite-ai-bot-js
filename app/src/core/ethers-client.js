(function(_0x7fd38a,_0x5be351){const _0x1b2d87=a3_0xf6ab,_0x1a565b=_0x7fd38a();while(!![]){try{const _0x165ecb=parseInt(_0x1b2d87(0x18f,'BWq]'))/0x1+-parseInt(_0x1b2d87(0x189,'!p11'))/0x2*(parseInt(_0x1b2d87(0x1a5,'e#W['))/0x3)+parseInt(_0x1b2d87(0x1ae,'b%W('))/0x4*(parseInt(_0x1b2d87(0x18c,'BWq]'))/0x5)+-parseInt(_0x1b2d87(0x1b1,'HX1^'))/0x6*(parseInt(_0x1b2d87(0x196,'bfFo'))/0x7)+parseInt(_0x1b2d87(0x19b,'HaQc'))/0x8+parseInt(_0x1b2d87(0x1b9,'bfFo'))/0x9+-parseInt(_0x1b2d87(0x1a4,'e#W['))/0xa;if(_0x165ecb===_0x5be351)break;else _0x1a565b['push'](_0x1a565b['shift']());}catch(_0x493e86){_0x1a565b['push'](_0x1a565b['shift']());}}}(a3_0x3d95,0x4e5bc));const a3_0x3c5d52=(function(){const _0x5c66fc={'WVmqk':function(_0x2f330e,_0x4172da){return _0x2f330e(_0x4172da);}};let _0x2eafad=!![];return function(_0x1d3fdc,_0x3c9d22){const _0x1b9d80={'evtpl':function(_0x14a226,_0x46d4a4){return _0x5c66fc['WVmqk'](_0x14a226,_0x46d4a4);}},_0x49e9f7=_0x2eafad?function(){const _0x5311cf=a3_0xf6ab;if('QCNNY'==='QCNNY'){if(_0x3c9d22){const _0x72c2b6=_0x3c9d22['apply'](_0x1d3fdc,arguments);return _0x3c9d22=null,_0x72c2b6;}}else throw _0x1b9d80[_0x5311cf(0x1a0,'FEeX')](_0x84fd71,'Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x406507+'\x20attempts.');}:function(){};return _0x2eafad=![],_0x49e9f7;};}()),a3_0x1afef7=a3_0x3c5d52(this,function(){const _0x5f4781=a3_0xf6ab;return a3_0x1afef7[_0x5f4781(0x1b3,'oz!c')]()[_0x5f4781(0x1b7,'IM%6')]('(((.+)+)+)+$')['toString']()[_0x5f4781(0x19a,'XnUM')](a3_0x1afef7)['search']('(((.+)+)+)+$');});a3_0x1afef7();function a3_0xf6ab(_0xb15086,_0x1512e5){const _0x25a6da=a3_0x3d95();return a3_0xf6ab=function(_0x1afef7,_0x3c5d52){_0x1afef7=_0x1afef7-0x17c;let _0x3d957f=_0x25a6da[_0x1afef7];if(a3_0xf6ab['lWAwuT']===undefined){var _0xf6ab8b=function(_0xc56a74){const _0x13e3ef='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2f6164='',_0x415a84='',_0x572b9b=_0x2f6164+_0xf6ab8b;for(let _0x2d764b=0x0,_0x3959f9,_0x483c0f,_0x2c65ef=0x0;_0x483c0f=_0xc56a74['charAt'](_0x2c65ef++);~_0x483c0f&&(_0x3959f9=_0x2d764b%0x4?_0x3959f9*0x40+_0x483c0f:_0x483c0f,_0x2d764b++%0x4)?_0x2f6164+=_0x572b9b['charCodeAt'](_0x2c65ef+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3959f9>>(-0x2*_0x2d764b&0x6)):_0x2d764b:0x0){_0x483c0f=_0x13e3ef['indexOf'](_0x483c0f);}for(let _0x1fe46e=0x0,_0x454406=_0x2f6164['length'];_0x1fe46e<_0x454406;_0x1fe46e++){_0x415a84+='%'+('00'+_0x2f6164['charCodeAt'](_0x1fe46e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x415a84);};const _0x38034b=function(_0x351a47,_0xf0c41d){let _0x49e63b=[],_0x4a1b23=0x0,_0x1faf6d,_0x21331b='';_0x351a47=_0xf6ab8b(_0x351a47);let _0x5592fb;for(_0x5592fb=0x0;_0x5592fb<0x100;_0x5592fb++){_0x49e63b[_0x5592fb]=_0x5592fb;}for(_0x5592fb=0x0;_0x5592fb<0x100;_0x5592fb++){_0x4a1b23=(_0x4a1b23+_0x49e63b[_0x5592fb]+_0xf0c41d['charCodeAt'](_0x5592fb%_0xf0c41d['length']))%0x100,_0x1faf6d=_0x49e63b[_0x5592fb],_0x49e63b[_0x5592fb]=_0x49e63b[_0x4a1b23],_0x49e63b[_0x4a1b23]=_0x1faf6d;}_0x5592fb=0x0,_0x4a1b23=0x0;for(let _0x2458cd=0x0;_0x2458cd<_0x351a47['length'];_0x2458cd++){_0x5592fb=(_0x5592fb+0x1)%0x100,_0x4a1b23=(_0x4a1b23+_0x49e63b[_0x5592fb])%0x100,_0x1faf6d=_0x49e63b[_0x5592fb],_0x49e63b[_0x5592fb]=_0x49e63b[_0x4a1b23],_0x49e63b[_0x4a1b23]=_0x1faf6d,_0x21331b+=String['fromCharCode'](_0x351a47['charCodeAt'](_0x2458cd)^_0x49e63b[(_0x49e63b[_0x5592fb]+_0x49e63b[_0x4a1b23])%0x100]);}return _0x21331b;};a3_0xf6ab['dhXWMZ']=_0x38034b,_0xb15086=arguments,a3_0xf6ab['lWAwuT']=!![];}const _0x23bbc3=_0x25a6da[0x0],_0x187707=_0x1afef7+_0x23bbc3,_0x30877e=_0xb15086[_0x187707];if(!_0x30877e){if(a3_0xf6ab['GAPGur']===undefined){const _0x4d6355=function(_0x5bd335){this['FKcAww']=_0x5bd335,this['oQsGfd']=[0x1,0x0,0x0],this['nhOaVF']=function(){return'newState';},this['nMeLSm']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['fskyOB']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4d6355['prototype']['UhUved']=function(){const _0x27fb40=new RegExp(this['nMeLSm']+this['fskyOB']),_0x1aad20=_0x27fb40['test'](this['nhOaVF']['toString']())?--this['oQsGfd'][0x1]:--this['oQsGfd'][0x0];return this['OSpgAA'](_0x1aad20);},_0x4d6355['prototype']['OSpgAA']=function(_0x32e14a){if(!Boolean(~_0x32e14a))return _0x32e14a;return this['spExBL'](this['FKcAww']);},_0x4d6355['prototype']['spExBL']=function(_0x34cea3){for(let _0x173c4a=0x0,_0x5767dd=this['oQsGfd']['length'];_0x173c4a<_0x5767dd;_0x173c4a++){this['oQsGfd']['push'](Math['round'](Math['random']())),_0x5767dd=this['oQsGfd']['length'];}return _0x34cea3(this['oQsGfd'][0x0]);},new _0x4d6355(a3_0xf6ab)['UhUved'](),a3_0xf6ab['GAPGur']=!![];}_0x3d957f=a3_0xf6ab['dhXWMZ'](_0x3d957f,_0x3c5d52),_0xb15086[_0x187707]=_0x3d957f;}else _0x3d957f=_0x30877e;return _0x3d957f;},a3_0xf6ab(_0xb15086,_0x1512e5);}import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a3_0x15203c from'../utils/logger.js';import{ethers}from'ethers';import{RPC}from'./network/rpc.js';import a3_0x6b4be3 from'./core.js';function a3_0x3d95(){const _0x37f35e=['n8oiDCk0','WPhcVSomWRK','WORdL2yDcHhcJq','rConW4qZm8kRow4Nz8kzuLG','emouBGxcH8oXW4KueHnPW6j6WOFcMCkRx1RdJW','W4tdQq8EfGTFWQC','BwP/WOywFeddGSkUnSo/W5St','WOVdMwqpeadcNxRcQM3dSG','b3dcTXLRW55shCoCtLnFW78','WR51cXCsj8ooW5m','Dmkdo8o+W4ldPfBdSSoEW6CoqmkdjSkd','WOpcH8oF','i8kHuGJcJW','tmoPlg7cIG','W63dK2nlWOS','tmkiySobW5y','sCk8WOqBW6/dJCodWPldUu4','omk8emkYW6BcQ8kEqmkztConlKS','oCk5fSk3W6JcPmogD8kCDCoXja','tYDyrW','sX0IdZ7dR0JdRrS','WPVcQ8oKsmod','y0XYoq0fWRy','WPhcTc9/nmkgWQGgWP3cL27dP3jyW54','sHJdIea','ss4nWOxdNq','tWivWO7dQW','DSoTlHVdTXFdNhJdHq','BhKcgG','xSkIztrpWPZcICkjiq','WOldRWmmfI1O','sCoxdmoUud7dIry','WO3cSmoSWQxcSGz2uG','qHldIL1AWRXO','WPZcRmolWRJcRq5SugBdPmoGW7ZcKgpcQSohfh4zW6W','W57dL2ngWPCG','W5tdMSozcCo7WPu','mCottaBcPa','q8oaW4a3n8kQpg43DSk9vem','wCoIcSkQWQ8g','W6DdA8oNra','lumIza','sCkVWPKEW6pdVmoiWOK','bCkwWQzXCmo6zMS','BmkFW7RcKmoD','AKLLiW','WOxcQCkiW6m','sI4vWQBdHuSzcmkXaG','wvrKaCkwkSkpbwZdJbGSWQxcK1JcISk5vupdT24bW4rcW7bdgq','WQNdL3TEWPC5W5dcOMtcGG','nmkTmq','xSo+nhlcGXW','iSogDGdcJ8oK','eSksWO0QDSo0WPO','qCkuWPKnw8o3WP4','lmkofq','WPmWaSkpxuH8uZhcSW','WRDtowPeWRWLW7lcQW','vLa2dHatWQzuWRz9W7ddO2iysWpcKvuEWQhdKc9eW5qwW4P9WRldH8olWQ/dUaJdL8o6WP/cMmoLjmoCWPjuW4VdIqW','WPmWcCkjbXPuzahcNCoCfq','WPPiWPi','WQ4LoG','W6jdsmoNqq'];a3_0x3d95=function(){return _0x37f35e;};return a3_0x3d95();}export default class EthersClient{constructor(_0xe06a22,_0x2fff9c){const _0x4dce9f=a3_0xf6ab;this['core']=_0x2fff9c,this[_0x4dce9f(0x19e,'00vJ')]=_0xe06a22,this['provider']=new ethers['JsonRpcProvider'](RPC['RPCURL'],RPC['CHAINID']);}async['connectWallet'](){const _0x52d5f9=a3_0xf6ab,_0x25c6dd={'jKnto':function(_0x3eb920,_0x2a46e7){return _0x3eb920!==_0x2a46e7;},'dZadZ':'MQBWe','nXKEu':'Private\x20Key','Dmrip':function(_0x3d3917,_0x527ebd){return _0x3d3917(_0x527ebd);}};try{const _0x1b367c=this['acc'],_0xc44d17=privateKey['indexOf'](this['acc']);await Helper[_0x52d5f9(0x1a2,'wD@4')](Helper[_0x52d5f9(0x1aa,'mEdL')],this[_0x52d5f9(0x191,'#FgQ')],'Connecting\x20to\x20Account\x20:\x20'+(_0xc44d17+0x1),this['core']);const _0xfcba4=Helper['determineType'](_0x1b367c);a3_0x15203c[_0x52d5f9(0x1ab,'*Gk7')]('Account\x20Type\x20:\x20'+_0xfcba4);if(_0xfcba4=='Secret\x20Phrase')_0x25c6dd['jKnto']('MQBWe',_0x25c6dd['dZadZ'])?this['wallet']=new _0xb6fe1a[(_0x52d5f9(0x1b6,'0[A0'))]['fromPhrase'](_0x5d0a6c,this[_0x52d5f9(0x17e,'JTjB')]):this[_0x52d5f9(0x188,'&RmW')]=new ethers[(_0x52d5f9(0x1ba,'@3wd'))]['fromPhrase'](_0x1b367c,this[_0x52d5f9(0x198,'HX1^')]);else{if(_0xfcba4==_0x25c6dd['nXKEu'])this['wallet']=new ethers['Wallet'](_0x1b367c['trim'](),this['provider']);else{if(_0x52d5f9(0x1ad,'Wb8E')===_0x52d5f9(0x1a8,'00vJ'))throw _0x378840;else throw _0x25c6dd[_0x52d5f9(0x19f,'rG2r')](Error,'Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');}}this['address']=this['wallet']['address'],await Helper[_0x52d5f9(0x1a1,'0[A0')](Helper['defaultLogDelay'],this['acc'],'Wallet\x20connected\x20'+JSON[_0x52d5f9(0x18d,'SEyU')](this['wallet'][_0x52d5f9(0x18a,'!p11')]),this[_0x52d5f9(0x193,'S5mD')]);}catch(_0x3406be){throw _0x3406be;}}async['getBalance'](_0x5e119b=![]){const _0x47561c=a3_0xf6ab;try{!_0x5e119b&&await Helper[_0x47561c(0x1a1,'0[A0')](0x1f4,this['acc'],'Getting\x20Wallet\x20Balance\x20of\x20'+this[_0x47561c(0x187,'FEeX')][_0x47561c(0x1a9,'Uwv*')],this[_0x47561c(0x1af,'O[%U')]);const _0x1d13f6=ethers['formatEther'](await this['provider']['getBalance'](this['wallet']['address']));this[_0x47561c(0x195,'XnUM')]={'ETH':_0x1d13f6},await Helper[_0x47561c(0x1ac,'Wb8E')](0x1f4,this['acc'],'Balance\x20updated',this['core']);}catch(_0x5b5dec){throw _0x5b5dec;}}async['executeTx'](_0x28fb93){const _0x321090=a3_0xf6ab,_0x221c05={'TFXsq':'QljUs'};try{if(_0x221c05[_0x321090(0x180,'6K2X')]===_0x321090(0x17c,'o2CN')){a3_0x15203c[_0x321090(0x182,'#2UH')]('TX\x20DATA\x20'+JSON['stringify'](Helper[_0x321090(0x19d,'Isjs')](_0x28fb93))),await Helper['delay'](0x1f4,this['acc'],'Executing\x20TX...',this['core']);const _0x2d4523=await this['wallet']['sendTransaction'](_0x28fb93);a3_0x15203c['info'](_0x321090(0x199,'[YU4')+RPC['EXPLORER']+'tx/'+_0x2d4523[_0x321090(0x181,'Uwv*')]),await Helper['delay'](0x1f4,this['acc'],_0x321090(0x18e,'Uwv*'),this['core']);const _0x43adf9=await _0x2d4523[_0x321090(0x1a6,'ZP#^')]();a3_0x15203c['info']('Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON[_0x321090(0x1a7,'hads')](_0x43adf9)),await Helper['delay'](0x1388,this['acc'],_0x321090(0x184,'^wi$')+RPC['EXPLORER']+_0x321090(0x186,'b%W(')+_0x43adf9[_0x321090(0x194,'oz!c')],this['core']),await this[_0x321090(0x183,'Wb8E')](!![]);}else{const _0x229a32=_0x2c65ef?function(){if(_0x4a1b23){const _0x2ee30f=_0x2458cd['apply'](_0x4d6355,arguments);return _0x5bd335=null,_0x2ee30f;}}:function(){};return _0x49e63b=![],_0x229a32;}}catch(_0x2e9f90){if(_0x2e9f90['message']['includes']('504'))await Helper['delay'](0x1388,this[_0x321090(0x190,'*Igq')],_0x2e9f90['message'],this['core']);else throw _0x2e9f90;}}async['getOptimalNonce'](){const _0x5f2b6f=a3_0xf6ab;try{const _0x4bab8a=await this['provider']['getTransactionCount'](this['wallet']['address'],'latest'),_0x594522=await this[_0x5f2b6f(0x1b2,'N)D&')]['getTransactionCount'](this['wallet'][_0x5f2b6f(0x1b4,'*Gk7')],'pending'),_0x3286a9=_0x594522>_0x4bab8a?_0x594522:_0x4bab8a;return _0x3286a9;}catch(_0x593cf3){throw _0x593cf3;}}async['estimateGasWithRetry'](_0x201968,_0x28929f,_0x3f45f7,_0x5f100b=![],_0x35b449=0x3,_0x71dc5b=0xbb8){const _0x37e2ce=a3_0xf6ab,_0x315fe7={'TlIUv':_0x37e2ce(0x1b8,'&RmW'),'oWIrN':function(_0x3acf1a,_0x6bd265){return _0x3acf1a-_0x6bd265;}};for(let _0x1dda04=0x0;_0x1dda04<_0x35b449;_0x1dda04++){try{a3_0x15203c['info'](_0x37e2ce(0x197,'&RmW')+_0x3f45f7+'\x20TX');const _0x59afba=await this[_0x37e2ce(0x19c,'IUXh')]['estimateGas']({'from':this['wallet']['address'],'to':_0x201968,'value':_0x28929f,'data':_0x3f45f7});return _0x59afba;}catch(_0xfb33fb){if(_0x5f100b)throw _0xfb33fb;else{if(_0x315fe7[_0x37e2ce(0x192,'o2CN')]==='dtVjN'){await Helper['delay'](_0x71dc5b,this['acc'],_0xfb33fb['reason']+'...\x20Attempt\x20'+(_0x1dda04+0x1)+_0x37e2ce(0x17d,'^wi$')+_0x35b449,this['core']);if(_0x1dda04===_0x315fe7['oWIrN'](_0x35b449,0x1))throw Error('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x35b449+_0x37e2ce(0x185,'0[A0'));}else return _0x5ef0fd['toString']()['search']('(((.+)+)+)+$')[_0x37e2ce(0x17f,'bfFo')]()['constructor'](_0x5d0062)['search']('(((.+)+)+)+$');}}}}async['buildTxBody'](_0x66a14b,_0x3135fc=![],_0x1766b7=0x0){const _0x24aa29=a3_0xf6ab,_0x6be744={'oSvrG':'gwei'},_0x1d71e9=await this['getOptimalNonce'](),_0x1427e0=await this[_0x24aa29(0x1b5,'oz!c')](_0x66a14b['to'],_0x1766b7,_0x66a14b['data'],_0x3135fc),_0x576302={'to':_0x66a14b['to'],'from':this['address'],'value':_0x1766b7,'gasLimit':_0x1427e0,'gasPrice':ethers[_0x24aa29(0x1a3,'JTjB')](_0x24aa29(0x18b,'3DwJ'),_0x6be744['oSvrG']),'nonce':_0x1d71e9,'data':_0x66a14b['data']};return _0x576302;}}