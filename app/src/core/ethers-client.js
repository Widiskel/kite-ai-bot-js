function a4_0x333b(_0x393027,_0x46798b){const _0x1fc45b=a4_0x4387();return a4_0x333b=function(_0x59524f,_0x15dbf4){_0x59524f=_0x59524f-0x1d4;let _0x43879d=_0x1fc45b[_0x59524f];if(a4_0x333b['QlDztj']===undefined){var _0x333bb8=function(_0x570664){const _0x50e925='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2ed763='',_0x492e34='',_0x2f6bf5=_0x2ed763+_0x333bb8;for(let _0x495608=0x0,_0x81d5f4,_0x29f86b,_0x2cacb3=0x0;_0x29f86b=_0x570664['charAt'](_0x2cacb3++);~_0x29f86b&&(_0x81d5f4=_0x495608%0x4?_0x81d5f4*0x40+_0x29f86b:_0x29f86b,_0x495608++%0x4)?_0x2ed763+=_0x2f6bf5['charCodeAt'](_0x2cacb3+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x81d5f4>>(-0x2*_0x495608&0x6)):_0x495608:0x0){_0x29f86b=_0x50e925['indexOf'](_0x29f86b);}for(let _0x50296b=0x0,_0x5569e1=_0x2ed763['length'];_0x50296b<_0x5569e1;_0x50296b++){_0x492e34+='%'+('00'+_0x2ed763['charCodeAt'](_0x50296b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x492e34);};const _0x7597c2=function(_0x2cc6cc,_0x34c049){let _0x501b95=[],_0xf7132=0x0,_0x2a8fd4,_0xdc3e67='';_0x2cc6cc=_0x333bb8(_0x2cc6cc);let _0x2151e9;for(_0x2151e9=0x0;_0x2151e9<0x100;_0x2151e9++){_0x501b95[_0x2151e9]=_0x2151e9;}for(_0x2151e9=0x0;_0x2151e9<0x100;_0x2151e9++){_0xf7132=(_0xf7132+_0x501b95[_0x2151e9]+_0x34c049['charCodeAt'](_0x2151e9%_0x34c049['length']))%0x100,_0x2a8fd4=_0x501b95[_0x2151e9],_0x501b95[_0x2151e9]=_0x501b95[_0xf7132],_0x501b95[_0xf7132]=_0x2a8fd4;}_0x2151e9=0x0,_0xf7132=0x0;for(let _0x272ca9=0x0;_0x272ca9<_0x2cc6cc['length'];_0x272ca9++){_0x2151e9=(_0x2151e9+0x1)%0x100,_0xf7132=(_0xf7132+_0x501b95[_0x2151e9])%0x100,_0x2a8fd4=_0x501b95[_0x2151e9],_0x501b95[_0x2151e9]=_0x501b95[_0xf7132],_0x501b95[_0xf7132]=_0x2a8fd4,_0xdc3e67+=String['fromCharCode'](_0x2cc6cc['charCodeAt'](_0x272ca9)^_0x501b95[(_0x501b95[_0x2151e9]+_0x501b95[_0xf7132])%0x100]);}return _0xdc3e67;};a4_0x333b['GWPOCv']=_0x7597c2,_0x393027=arguments,a4_0x333b['QlDztj']=!![];}const _0x36d17c=_0x1fc45b[0x0],_0x5a90dc=_0x59524f+_0x36d17c,_0xef53be=_0x393027[_0x5a90dc];if(!_0xef53be){if(a4_0x333b['MgqBHx']===undefined){const _0x47b878=function(_0x1992af){this['hfuGli']=_0x1992af,this['qjCzxU']=[0x1,0x0,0x0],this['QMoDRt']=function(){return'newState';},this['wjJdTR']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['DCScyt']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x47b878['prototype']['pdRrUK']=function(){const _0x3bd162=new RegExp(this['wjJdTR']+this['DCScyt']),_0x1a0a78=_0x3bd162['test'](this['QMoDRt']['toString']())?--this['qjCzxU'][0x1]:--this['qjCzxU'][0x0];return this['jTsMFu'](_0x1a0a78);},_0x47b878['prototype']['jTsMFu']=function(_0x1e0feb){if(!Boolean(~_0x1e0feb))return _0x1e0feb;return this['iSSjXy'](this['hfuGli']);},_0x47b878['prototype']['iSSjXy']=function(_0x43aeb2){for(let _0x1aec32=0x0,_0x2409b4=this['qjCzxU']['length'];_0x1aec32<_0x2409b4;_0x1aec32++){this['qjCzxU']['push'](Math['round'](Math['random']())),_0x2409b4=this['qjCzxU']['length'];}return _0x43aeb2(this['qjCzxU'][0x0]);},new _0x47b878(a4_0x333b)['pdRrUK'](),a4_0x333b['MgqBHx']=!![];}_0x43879d=a4_0x333b['GWPOCv'](_0x43879d,_0x15dbf4),_0x393027[_0x5a90dc]=_0x43879d;}else _0x43879d=_0xef53be;return _0x43879d;},a4_0x333b(_0x393027,_0x46798b);}const a4_0x1617a4=a4_0x333b;(function(_0x10b0f6,_0x5f2f80){const _0x2b4790=a4_0x333b,_0x4cab5a=_0x10b0f6();while(!![]){try{const _0x5b63d3=parseInt(_0x2b4790(0x1df,'9L!t'))/0x1*(parseInt(_0x2b4790(0x1da,'^roE'))/0x2)+-parseInt(_0x2b4790(0x1e1,'gH]#'))/0x3+parseInt(_0x2b4790(0x1fc,'&qg4'))/0x4*(parseInt(_0x2b4790(0x1ea,'8OqD'))/0x5)+parseInt(_0x2b4790(0x1f0,'*o#]'))/0x6+-parseInt(_0x2b4790(0x214,'eQUo'))/0x7+-parseInt(_0x2b4790(0x1fb,'9fRX'))/0x8+parseInt(_0x2b4790(0x206,'XyRL'))/0x9*(-parseInt(_0x2b4790(0x20c,'[kU3'))/0xa);if(_0x5b63d3===_0x5f2f80)break;else _0x4cab5a['push'](_0x4cab5a['shift']());}catch(_0x274780){_0x4cab5a['push'](_0x4cab5a['shift']());}}}(a4_0x4387,0x72067));const a4_0x15dbf4=(function(){let _0x153fea=!![];return function(_0x1105ea,_0x54d7cd){const _0xba6042={'HLyxN':'Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key'},_0x335267=_0x153fea?function(){if('tsiOK'!=='MxmQi'){if(_0x54d7cd){if('eggUf'==='Dsend')throw _0x43514c(_0xba6042['HLyxN']);else{const _0x202c9e=_0x54d7cd['apply'](_0x1105ea,arguments);return _0x54d7cd=null,_0x202c9e;}}}else{const _0x207025=_0x369de5['apply'](_0x1b0ada,arguments);return _0x1ef66f=null,_0x207025;}}:function(){};return _0x153fea=![],_0x335267;};}()),a4_0x59524f=a4_0x15dbf4(this,function(){const _0x43e435=a4_0x333b,_0x3b4630={'AdRyJ':_0x43e435(0x1ec,'[8$G')};return a4_0x59524f['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a4_0x59524f)['search'](_0x3b4630[_0x43e435(0x210,'2cc6')]);});a4_0x59524f();import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a4_0x438c75 from'../utils/logger.js';import{ethers}from'ethers';import{RPC}from'./network/rpc.js';import a4_0x4005ae from'./core.js';function a4_0x4387(){const _0x56d78c=['uhpcJmo4W4CkWPZcVa','pCkAW4xcSq','WRNdMX7dRghcPCoZW54DW4ax','xmo5gSkc','hCoLa8oDu8ouiW','fCk7WRZcHwhdNNK','BMCkhfW','W7xcN1OVW7pdH8oWja','W7BcV0hdKComdCktWRa8WOipWOC','CxuMW6lcMSoWWQiAvZeLcSky','quBdGCkKwqVdTftdHmkRW4WzW6fjWPu','W5LXW6G6W715xmoYw2hcVavqeJZdStCutSonWRClmq','x0BdVLS','omkuWRRcR0m','d8ope0u5WOddVapdJ8ojkCkEW7ZcIGRcIumavG','W6/cHN5G','m8odW7pcHHRdM8o5stPgW7FdHe7dSmkIW5Tov8k0WQxcP8ojWOGxW4xcOCkBW6/cHmkAW7VdSZpcUJ3cSN3dJf/dRCkiW63dTZdcKG','WRycDZ4TW5hdJWO0','vSkoW6VdTfFdQSomAczBW7q','WO7cR1dcJqhdGMpdNG9zpbai','W7NdKv9fW45AWRHddc3cUey','W4ZdT1pcNSoEnmomWQddNgnRW77dLmkIjG','hwNdJmk1rZK','nZK+','WOesdmo0WODyWQzMW7X0W5XoWPC','gmo9W6nd','WRdcIqChWPW','WPjfxmoT','WOZcPt7cSq','W5VdT1hcM8oZ','WOTmba','hSoer2KSWOtdQX/dLColBCo5WPC','W6PNW7GuW5m','pmk6WOVcTNi','W5mQmtO','oZzstrddPCohyuj2W6RcJWO','WOf0DML6WPiIwwtcLa','ieRcTIyyWQjwW4RdT8oRkCoBDa','WQhcMauyWOaMW70du3C','W5noxSk/W5eEW6C','aSoiWQFcQG/dN8oUwqLcW6dcS3ddPCkJW71ctCkHW7W','W5njwq','W5/cTmkeWRSD','bxJdPSkVsG','W7ZdL8kk','dSkxzMW','WP1orSkgjSozW7JcMW','W61IW6e3W6XOp8o+wNVcOafqeHddU2m','WOrTkCkBwtC','smkYxSkAbSkEz8oEW7XGWPdcNCo/','eKZcTG','cI9NWRxdHmkQW7bjDaOQj8kzjmkbWOlcGCkfqtu2vCoNeLNdVt7dQWXDemk4WQ9WWPJcImo9s8kKWPvZW640WRi','ySolWOddOCosESoYjfpdVILp','W7hcMamFWOaEW6mEvcO','WPrPmCkJtIiDx8k8WPT4uvZcKCk/WQZcNCkkka','ye7dGmoDW78','WOqsvY4j','WPuRk3RcOmoRWOu','ENajc0ZcUmkqCG','iSk4vclcI8kFW48xDfm','qmoSW6hdGJtcLd3cOCoAW6pcOrNdTa','WPdcOeJcHbBdKa','aSkAW5RcTCkapG','A3BcLSkevG','W67dGmkBBMNcTCkhWQxdMa','WRdcMHq'];a4_0x4387=function(){return _0x56d78c;};return a4_0x4387();}export default class EthersClient{constructor(_0x36a922,_0x5414fd){const _0xcbb7eb=a4_0x333b;this[_0xcbb7eb(0x1e7,'2H9O')]=_0x5414fd,this['acc']=_0x36a922,this[_0xcbb7eb(0x212,'9fRX')]=new ethers['JsonRpcProvider'](RPC['RPCURL'],RPC['CHAINID']);}async['connectWallet'](){const _0x361665=a4_0x333b,_0x464be2={'wdLhm':function(_0x514f14,_0x556f02){return _0x514f14+_0x556f02;},'PduOZ':_0x361665(0x20b,'gH]#')};try{const _0x2347d3=this['acc'],_0x201777=privateKey['indexOf'](this[_0x361665(0x204,'WEry')]);await Helper['delay'](Helper['defaultLogDelay'],this[_0x361665(0x20a,'8l8r')],'Connecting\x20to\x20Account\x20:\x20'+_0x464be2['wdLhm'](_0x201777,0x1),this['core']);const _0x125efc=Helper['determineType'](_0x2347d3);a4_0x438c75['info']('Account\x20Type\x20:\x20'+_0x125efc);if(_0x125efc==_0x361665(0x1fd,'8l8r')){if('jbzwm'!=='RLpbJ')this[_0x361665(0x215,'Hi!7')]=new ethers[(_0x361665(0x1d4,'[kU3'))]['fromPhrase'](_0x2347d3,this['provider']);else{const _0xd5fd49=_0x2cacb3?function(){const _0x5bd0ac=_0x361665;if(_0xf7132){const _0x2aa2c3=_0x272ca9[_0x5bd0ac(0x1f2,'[8$G')](_0x47b878,arguments);return _0x1992af=null,_0x2aa2c3;}}:function(){};return _0x501b95=![],_0xd5fd49;}}else{if(_0x125efc=='Private\x20Key')this[_0x361665(0x1ee,'8l4%')]=new ethers['Wallet'](_0x2347d3['trim'](),this['provider']);else{if('BXYWS'==='BXYWS')throw Error(_0x464be2[_0x361665(0x1f8,'NZ&P')]);else this['wallet']=new _0x120030['Wallet'][(_0x361665(0x213,'6TXp'))](_0x2011fc,this['provider']);}}this['address']=this['wallet'][_0x361665(0x1dd,'eQUo')],await Helper[_0x361665(0x1d5,'JatJ')](Helper[_0x361665(0x1e2,'hoPB')],this['acc'],_0x361665(0x207,'NZ&P')+JSON['stringify'](this['wallet']['address']),this['core']);}catch(_0x4fadee){throw _0x4fadee;}}['createContract'](_0x58eccb){return new ethers['Contract'](_0x58eccb['CA'],_0x58eccb['ABI'],this['provider']);}[a4_0x1617a4(0x1e3,'NZ&P')](_0x5ed86c){return new ethers['Interface'](_0x5ed86c['ABI']);}async[a4_0x1617a4(0x1eb,'Hi!7')](_0x1a02d2,_0x73529c,_0x56e023){const _0x3cbd54=a4_0x1617a4,_0x262649=this['createContractInterface'](_0x1a02d2),_0xadd827=_0x262649['encodeFunctionData'](_0x73529c,_0x56e023),_0x3e7a42=await this['provider'][_0x3cbd54(0x205,'j3Yn')]({'to':_0x1a02d2['CA'],'data':_0xadd827});return _0x262649['decodeFunctionResult'](_0x73529c,_0x3e7a42);}async['getBalance'](_0x564af7=![]){const _0x1fb929=a4_0x1617a4;try{!_0x564af7&&await Helper['delay'](0x1f4,this['acc'],'Getting\x20Wallet\x20Balance\x20of\x20'+this['wallet']['address'],this['core']);const _0x312373=ethers['formatEther'](await this['provider']['getBalance'](this['wallet'][_0x1fb929(0x1ff,'*o#]')]));this['balance']={'ETH':_0x312373},await Helper['delay'](0x1f4,this['acc'],'Balance\x20updated',this[_0x1fb929(0x1fa,'&qg4')]);}catch(_0x305c69){throw _0x305c69;}}async['executeTx'](_0xc8a908){const _0x266bf3=a4_0x1617a4,_0x224937={'HeSAv':_0x266bf3(0x203,'8l4%')};try{a4_0x438c75['info'](_0x266bf3(0x1d8,'[AM4')+JSON[_0x266bf3(0x1e9,'2cc6')](Helper['serializeBigInt'](_0xc8a908))),await Helper['delay'](0x1f4,this[_0x266bf3(0x1f6,'[#WW')],'Executing\x20TX...',this['core']);const _0xafc120=await this['wallet'][_0x266bf3(0x1ed,')Y]n')](_0xc8a908);a4_0x438c75['info'](_0x266bf3(0x1f7,'DQKk')+RPC['EXPLORER']+'tx/'+_0xafc120[_0x266bf3(0x1e4,'%]ku')]),await Helper[_0x266bf3(0x1de,'9fRX')](0x1f4,this[_0x266bf3(0x201,'*o#]')],_0x266bf3(0x1e8,'8OqD'),this['core']);const _0x2babb7=await _0xafc120[_0x266bf3(0x1f1,'FaAY')]();a4_0x438c75[_0x266bf3(0x1f4,'al*K')]('Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON[_0x266bf3(0x1d6,'WEry')](_0x2babb7)),await Helper[_0x266bf3(0x1f5,')Y]n')](0x1388,this[_0x266bf3(0x1d7,'[8$G')],'Tx\x20Executed\x20and\x20Confirmed\x20\x0a'+RPC['EXPLORER']+_0x266bf3(0x1ef,'gH]#')+_0x2babb7[_0x266bf3(0x1d9,'[kU3')],this['core']),await this['getBalance'](!![]);}catch(_0x1773ed){if(_0x1773ed['message']['includes']('504')){if('opFvh'===_0x224937[_0x266bf3(0x1f9,'eQUo')])await Helper[_0x266bf3(0x20f,'[AM4')](0x1388,this['acc'],_0x1773ed['message'],this['core']);else throw _0x267cc5;}else throw _0x1773ed;}}async['getOptimalNonce'](){const _0x309188=a4_0x1617a4;try{const _0x28e697=await this['provider'][_0x309188(0x20e,']hMf')](this['wallet'][_0x309188(0x1dc,'aUhi')],'latest'),_0x162c1b=await this['provider']['getTransactionCount'](this[_0x309188(0x208,']hMf')][_0x309188(0x211,'UUmM')],'pending'),_0x38ff6=_0x162c1b>_0x28e697?_0x162c1b:_0x28e697;return _0x38ff6;}catch(_0x5078f6){throw _0x5078f6;}}async['estimateGasWithRetry'](_0x178ce3,_0x3f0bc6,_0xab3c39,_0x5253a5=![],_0x3c89d1=0x3,_0x5af90e=0xbb8){const _0x162c79=a4_0x1617a4,_0x329bc8={'VjgmG':function(_0x4a9d35,_0xbc9cac){return _0x4a9d35+_0xbc9cac;},'LKbXG':function(_0x3b0e81,_0x51b7a2){return _0x3b0e81(_0x51b7a2);}};for(let _0x5178d7=0x0;_0x5178d7<_0x3c89d1;_0x5178d7++){try{a4_0x438c75['info'](_0x162c79(0x1e6,'DQKk')+_0xab3c39+'\x20TX');const _0x54a6b7=await this['provider']['estimateGas']({'from':this['wallet']['address'],'to':_0x178ce3,'value':_0x3f0bc6,'data':_0xab3c39});return _0x54a6b7;}catch(_0x72a8ef){if(_0x5253a5)throw _0x72a8ef;else{await Helper['delay'](_0x5af90e,this['acc'],_0x72a8ef['reason']+_0x162c79(0x1e0,'pcyJ')+_0x329bc8['VjgmG'](_0x5178d7,0x1)+_0x162c79(0x1f3,'*o#]')+_0x3c89d1,this['core']);if(_0x5178d7===_0x3c89d1-0x1)throw _0x329bc8[_0x162c79(0x1e5,'eQUo')](Error,'Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x3c89d1+_0x162c79(0x20d,'[8$G'));}}}}async['buildTxBody'](_0x5e4cda,_0x3d11a2=![],_0x2d5e88=0x0){const _0x3b7133=a4_0x1617a4,_0x4a7181={'VSVKj':'1.5'},_0x3d6284=await this['getOptimalNonce'](),_0x5249e4=await this[_0x3b7133(0x200,'8OqD')](_0x5e4cda['to'],_0x2d5e88,_0x5e4cda['data'],_0x3d11a2),_0x46b7b8={'to':_0x5e4cda['to'],'from':this['address'],'value':_0x2d5e88,'gasLimit':_0x5249e4,'gasPrice':ethers[_0x3b7133(0x1fe,'[8$G')](_0x4a7181[_0x3b7133(0x202,'QRjX')],_0x3b7133(0x1db,'#dGp')),'nonce':_0x3d6284,'data':_0x5e4cda['data']};return _0x46b7b8;}}